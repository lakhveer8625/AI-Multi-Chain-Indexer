# =============================================================================
# MULTI-CHAIN INDEXER - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update with your actual values
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# MySQL connection string
# Format: mysql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="mysql://indexer_user:indexer_password@localhost:3307/indexer_db"

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION
# -----------------------------------------------------------------------------
# Redis connection string for caching and queues
# Format: redis://HOST:PORT
REDIS_URL="redis://localhost:6380"

# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------
# Node environment (development, production, test)
NODE_ENV="development"

# Query API Server Port
PORT=4000

# GraphQL API URL for frontend
NEXT_PUBLIC_GRAPHQL_URL="http://localhost:4000/graphql"

# -----------------------------------------------------------------------------
# BLOCKCHAIN RPC ENDPOINTS
# -----------------------------------------------------------------------------
# Ethereum Mainnet RPC URL
# Examples: https://rpc.ankr.com/eth, https://eth.llamarpc.com
ETH_MAINNET_RPC_URL="https://rpc.ankr.com/eth"

# Ethereum Sepolia Testnet RPC URL
# Examples: https://rpc.ankr.com/eth_sepolia, https://sepolia.drpc.org
ETH_SEPOLIA_RPC_URL="https://rpc.ankr.com/eth_sepolia"

# Polygon Mainnet RPC URL (Optional)
# Examples: https://polygon-rpc.com, https://rpc.ankr.com/polygon
POLYGON_MAINNET_RPC_URL="https://polygon-rpc.com"

# Solana Mainnet RPC URL (Optional)
# Examples: https://api.mainnet-beta.solana.com
SOLANA_MAINNET_RPC_URL="https://api.mainnet-beta.solana.com"

# -----------------------------------------------------------------------------
# CONTRACT ADDRESSES (Optional - for specific contract monitoring)
# -----------------------------------------------------------------------------
# Add specific contract addresses you want to monitor
# Example ERC20 tokens, DEX contracts, etc.
# USDT_CONTRACT_ADDRESS="0xdac17f958d2ee523a2206206994597c13d831ec7"
# USDC_CONTRACT_ADDRESS="0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"

# -----------------------------------------------------------------------------
# INDEXING CONFIGURATION
# -----------------------------------------------------------------------------
# Starting block number for indexing (0 for genesis)
ETH_MAINNET_START_BLOCK=0
ETH_SEPOLIA_START_BLOCK=0
POLYGON_MAINNET_START_BLOCK=0

# Number of blocks to process in each batch
INDEXER_BATCH_SIZE=100

# Polling interval in milliseconds (for new blocks)
INDEXER_POLL_INTERVAL=12000

# -----------------------------------------------------------------------------
# LOGGING & MONITORING
# -----------------------------------------------------------------------------
# Log level (debug, info, warn, error)
LOG_LEVEL="info"

# Enable/disable query logging
ENABLE_QUERY_LOGGING=false

# -----------------------------------------------------------------------------
# SECURITY (Production Only)
# -----------------------------------------------------------------------------
# API authentication secret (generate a secure random string for production)
# API_SECRET="your-secure-secret-key-here"

# CORS allowed origins (comma-separated)
# CORS_ORIGINS="http://localhost:3000,https://yourdomain.com"

# Rate limiting (requests per minute)
# RATE_LIMIT_RPM=100

# -----------------------------------------------------------------------------
# ADVANCED CONFIGURATION
# -----------------------------------------------------------------------------
# Enable chain reorganization detection
ENABLE_REORG_DETECTION=true

# Maximum reorg depth to handle
MAX_REORG_DEPTH=20

# Redis key prefix for this environment
REDIS_KEY_PREFIX="mci:dev:"

# Database connection pool size
DATABASE_POOL_SIZE=10

# Enable Prisma query logging in development
# PRISMA_QUERY_LOG=true
